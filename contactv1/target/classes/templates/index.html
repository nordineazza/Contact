<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Contact</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script>
        $(function() {
            $('.btn-floating').click(function(){
                $('form').submit();
            });
        });
    </script>
</head>
<body>
<a href="/Info" class="btn-small orange lighten-1" style="float: right; margin: 5px">?</a>
<div style="margin: auto; width: 80%;">
    <div class="row">
        <h1>
            <span th:text="'Contact form'"></span>
        </h1>
        <p style="padding-left: 10px; padding-bottom: 10px"><i>Cette application utilise Spring Boot 2.1, HikariCP, Thymeleaf, Maven & JUnit</i></p>
        <form class="col s12" action="/Contact/Add" method="post">
            <div class="row">
                <div class="input-field col s6">
                    <input placeholder="John" id="first_name" name="prenom" type="text" class="validate">
                    <label for="first_name">First Name</label>
                </div>
                <div class="input-field col s6">
                    <input placeholder="DOE" id="last_name" name="nom" type="text" class="validate">
                    <label for="last_name">Last Name</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input placeholder="jdoe@gmail.com" id="email" name="mail" type="email" class="validate">
                    <label for="email">Email</label>
                </div>
            </div>
            <a class="btn-floating btn-large waves-effect waves-light light-blue lighten-1" style="float: right;"><i class="material-icons">+</i></a>
        </form>
    </div>

    <div class="row">
        <h2>Liste des contacts</h2>
        <table class="striped">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Pr√©nom</th>
                    <th>E-mail</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr data-th-each="contact : ${contacts}">
                    <td data-th-text="${contact.nom}"></td>
                    <td data-th-text="${contact.prenom}"></td>
                    <td data-th-text="${contact.mail}"></td>
                    <td>
                        <a th:href="|/Contact/Delete/?id=${contact.id}|" class="waves-effect waves-light btn-small red lighten-1">x</a>
                        <a th:href="|/Contact/Update/?id=${contact.id}|" class="waves-effect waves-light btn-small green lighten-1">/</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>